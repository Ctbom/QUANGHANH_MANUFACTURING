
@{
    ViewData["Title"] = "Frequency";
    Layout = "~/Views/Shared/_Layout_TCLD.cshtml";
}

<link href="~/css/tuan_css/css/kcs_css/style.css" rel="stylesheet" />
<link href="~/css/TABLE_BORDERED.css" rel="stylesheet" />
<div class="card">
    <div class="card-content">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="row">
                    <div class="center">
                        <h3>
                            <b>TỔNG HỢP CÁC ĐƠN VỊ CHẤM DỨT, TUYỂN DỤNG </b>
                        </h3>
                        <div class="center">NĂM <input id="td-cd-nam" class="form-control col s4 m4 l4" data-language="vi" /></div>
                    </div>
                </div>
                <div class="row">
                    <div class="col l12 table_container">
                        <br />
                                <table id="cd-td-table" class="table-bordered table-responsive">
                                    <thead>
                                        <tr>
                                            <th class="jsgrid-header-cell center" rowspan="2">STT</th>
                                            <th class="jsgrid-header-cell center" rowspan="2">Đơn vị</th>
                                            <th class="jsgrid-header-cell center" colspan="3">Số lượng chấm dứt</th>
                                            <th class="jsgrid-header-cell center" colspan="3">Số lượng tuyển dụng</th>
                                            <th class="jsgrid-header-cell center" rowspan="2">Chênh lệch</th>
                                            <th class="jsgrid-header-cell center" rowspan="2">Ghi chú</th>
                                        </tr>
                                        <tr>
                                            <th class="jsgrid-header-cell center">Tổng</th>
                                            <th class="jsgrid-header-cell center">Khai thác</th>
                                            <th class="jsgrid-header-cell center">Cơ điện</th>
                                            <th class="jsgrid-header-cell center">Tổng</th>
                                            <th class="jsgrid-header-cell center">Khai thác</th>
                                            <th class="jsgrid-header-cell center">Cơ điện</th>
                                        </tr>
                                    </thead>
                                </table>
                    </div>
                </div>
                <div class="col s12 m12 l12">
                    <br />
                    <a class="btn darken-2" style="background-color:#273146" id="export">Xuất ra excel</a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Modal Structure -->
<div id="modal1" class="modal">
    <div class="modal-content">
        <b>Bạn có chắc chắn muốn lưu không?</b>
    </div>
    <div class="modal-footer">
        <a class="modal-action modal-close waves-effect waves-green btn blue darken-2" id="ok">Đồng ý</a>
        <a class="modal-action modal-close waves-effect waves-green btn red darken-2" id="cancel">Hủy bỏ</a>
    </div>
</div>
<script src="~/js/Custom JS/TCLD/RecruitAndEnd/RecruitAndEnd.js"></script>
<script src="~/assets/libs/jsgrid/dist/db.js"></script>
<script type="text/javascript" src="~/assets/libs/jsgrid/dist/jsgrid.min.js"></script>
<script src="~/dist/js/pages/jsgrid/jsgrid-init.js"></script>
<link type="text/css" rel="stylesheet" href="~/assets/libs/jsgrid/dist/jsgrid.min.css" />
<link type="text/css" rel="stylesheet" href="~/assets/libs/jsgrid/dist/jsgrid-theme.min.css" />
<link href="//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" rel="stylesheet" />
@section scripts{
    <script src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <script>
    var dataTable;
        $(Document).ready(() => {
            $("#pre-load").show()
            dataTable = $("#cd-td-table").on('preXhr.dt', function (e, settings, data) {
                $("#pre-load").show("slow", function () {
                });
                $("#pre-load").css("z-index", "99999");
            }).DataTable({
                 "ajax": {
                     "url": '@Url.Action("GetAll", "RecruitmentAndEnd")',
                     "type": "POST",
                     "datatype": "json",
                },
                "drawCallback": function (settings) {
                    $("#pre-load").hide("slow", function () {
                    });
                },
                "columns": [
                    { "data": "Stt", "name": "Stt", "render": (data) => { return   data   }},
                    { "data": "TenPhongBan", "name": "TenPhongBan" },
                    { "data": "TongChamDut", "name": "TongChamDut" },
                    { "data": "TongChamDutKhaiThac", "name": "TongChamDutKhaiThac" },
                    { "data": "TongChamDutCoDien", "name": "TongChamDutCoDien" },
                    { "data": "TongTuyenDung", "name": "TongTuyenDung" },
                    { "data": "TongTuyenDungKhaiThac", "name": "TongTuyenDungKhaiThac" },
                    { "data": "TongTuyenDungCoDien", "name": "TongTuyenDungCoDien" },
                    { "data": "ChenhLech", "name": "ChenhLech" },
                    { "data": "GhiChu", "name": "GhiChu", "render": (data) => { if (data == "") { return "<p>Không có ghi chú</P>" } else { return data } } },

                ],
                "pageLength" : 10,
                "bLengthChange": false,
                "initComplete": () => { $("#pre-load").hide() },
                "searching": false,
                "paging": true,
                "order": [0, 'asc'],
                "serverSide": true,
                "language": {
                    emptyTable: "<li class='text-danger' align='center'>Không có dữ liệu</li>",
                    paginate:
                    {
                        previous: "Trang trước",
                        next: "Trang sau",
                        first: "|<",
                        last: ">|",

                    },
                    info: "Đang hiện _START_ đến _END_ của _TOTAL_ bản ghi",
                    infoEmpty: "Đang hiện 0 đến 0 của 0 bản ghi",
                },
            })
        })
    </script>

}
